(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const c of e)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(e){const c={};return e.integrity&&(c.integrity=e.integrity),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?c.credentials="include":e.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(e){if(e.ep)return;e.ep=!0;const c=o(e);fetch(e.href,c)}})();function m(t){let r=document.querySelector("#detailsModal"),o=document.querySelectorAll(".details"),l=t.getStorage()[t.currentProject];for(let e=1;e<o.length;e++)o[e].addEventListener("click",function(){document.querySelector("#detailsTitle").textContent=l[e-1].title,document.querySelector("#detailsModal-project").textContent=t.currentProject,document.querySelector("#detailsModal-priority").textContent=l[e-1].priority,document.querySelector("#detailsModal-dueDate").textContent=l[e-1].date,document.querySelector("#detailsModal-description").textContent=l[e-1].description,r.style.display="block"});window.onclick=function(e){e.target==r&&(r.style.display="none")},document.querySelector("#detailsModal-close").addEventListener("click",()=>{r.style.display="none"})}function p(t,r){let o=document.querySelector(".content");if(o.innerHTML="",t.length===0){let e=document.createElement("p");e.textContent="No todos",e.classList.add("no-todos"),o.appendChild(e)}for(let e=0;e<t.length;e++){let c=document.querySelector("#todoExample").cloneNode(!0);c.children[0].children[1].textContent=t[e].title,c.children[1].children[1].textContent=t[e].date.slice(5),t[e].status&&c.classList.add("done"),c.classList.add(t[e].priority),c.removeAttribute("id"),c.classList.add("todo"),o.appendChild(c)}let l=document.querySelectorAll(".todo");for(let e=0;e<l.length;e++)l[e].classList.contains("done")?(l[e].children[0].children[0].children[0].style.display="none",l[e].children[0].children[0].children[1].style.display="block"):(l[e].children[0].children[0].children[1].style.display="none",l[e].children[0].children[0].children[0].style.display="block")}function f(t){let r=document.querySelectorAll(".checkBox"),o=document.querySelectorAll(".todo");for(let l=0;l<o.length;l++)r[l+1].addEventListener("click",function(){o[l].classList.toggle("done"),t.refreshStatus(t.currentProject,l),o[l].classList.contains("done")?(o[l].children[0].children[0].children[0].style.display="none",o[l].children[0].children[0].children[1].style.display="block"):(o[l].children[0].children[0].children[1].style.display="none",o[l].children[0].children[0].children[0].style.display="block")})}function g(t){let r=document.querySelectorAll(".delete");for(let o=1;o<r.length;o++)r[o].addEventListener("click",function(){t.deleteTodo(t.currentProject,o-1),p(t.getStorage()[t.currentProject]),g(t),f(t),m(t)})}function S(t){let r=document.querySelectorAll(".project"),o=document.querySelector(".content");for(let l=0;l<r.length;l++)r[l].addEventListener("click",function(){t.currentProject=r[l].children[0].textContent,o.innerHTML="";const e=t.getStorage()[r[l].children[0].textContent];if(document.querySelectorAll(".active")[0].classList.remove("active"),r[l].classList.add("active"),e.length===0){let i=document.createElement("p");i.textContent="No todos",i.classList.add("no-todos"),o.appendChild(i)}else{for(let i=0;i<e.length;i++){let n=document.querySelector("#todoExample").cloneNode(!0);n.children[0].children[1].textContent=e[i].title,n.children[1].children[1].textContent=e[i].date.slice(5),n.removeAttribute("id"),n.classList.add("todo"),e[i].status&&n.classList.add("done"),n.classList.contains("done")?(n.children[0].children[0].children[0].style.display="none",n.children[0].children[0].children[1].style.display="block"):(n.children[0].children[0].children[1].style.display="none",n.children[0].children[0].children[0].style.display="block"),n.classList.add(e[i].priority),o.appendChild(n)}f(t),m(t),g(t)}document.querySelector(".sidebar").classList.remove("show-sidebar")})}function q(t){let r=document.querySelector(".plus"),o=document.querySelector(".createNew");document.getElementsByClassName("close")[0],r.onclick=function(){o.style.display="block"},window.onclick=function(s){s.target==o&&(o.style.display="none")};let l=document.querySelector(".optionTodo"),e=document.querySelector(".optionProject"),c=document.querySelector("#optionTodoContent"),d=document.querySelector("#optionProjectContent");l.addEventListener("click",function(){c.style.display="flex",d.style.display="none",l.classList.add("activeOption"),e.classList.remove("activeOption")}),e.addEventListener("click",function(){c.style.display="none",d.style.display="flex",e.classList.add("activeOption"),l.classList.remove("activeOption")});let i=document.querySelector("#addTodo"),n=document.querySelector("#createProject");document.querySelector("#titleCreate").children[1].addEventListener("click",()=>{document.querySelector(".modal").style.display="none"}),i.addEventListener("click",function(){let s=document.querySelector("#titleInput").value,a=document.querySelector("#detailsInput").value,u=document.querySelector("#dueDate").children[1].value,h=document.querySelector("#priority").children[1];s&&a&&u&&(t.addTodo(t.currentProject,{status:!1,title:s,description:a,date:u,priority:h.value}),p(t.getStorage()[t.currentProject]),document.querySelector(".modal").style.display="none",document.querySelector(".sidebar").classList.remove("show-sidebar"),document.querySelector("#titleInput").value="",document.querySelector("#detailsInput").value="",document.querySelector("#priority").children[1].value="low",document.querySelector("#dueDate").children[1].value=""),m(t),f(t),g(t)}),n.addEventListener("click",function(){let s=document.querySelector("#titleProjectInput").value;if(s){t.addProject(s);let a=document.createElement("button");a.classList.add("project");let u=document.createElement("h4");u.textContent=s,a.appendChild(u);let h=document.createElement("div");h.classList.add("count"),h.textContent=0,a.appendChild(h),document.querySelector(".projects").appendChild(a),document.querySelector("#titleProjectInput").value=""}document.querySelector(".modal").style.display="none",document.querySelector(".sidebar").classList.remove("show-sidebar"),S(t),p([]),t.currentProject=s})}function L(){const t=document.querySelector(".menu"),r=document.querySelector(".sidebar"),o=document.querySelector(".menu-icon");t.addEventListener("click",()=>{r.classList.toggle("show-sidebar"),o.classList.toggle("opened")})}function y(t){let r=document.querySelectorAll(".project");for(let o=0;o<r.length;o++)r[o].children[1].textContent=t.getStorage()[r[o].children[0].textContent].length}function v(t){let r=document.querySelector(".projects");r.innerHTML="";let o=t.getStorage();for(let l in o){let e=document.createElement("button");e.classList.add("project");let c=document.createElement("h4");c.textContent=l;let d=document.createElement("div");d.classList.add("count"),d.textContent=o[l].length,e.appendChild(c),e.appendChild(d),l===t.currentProject&&e.classList.add("active"),r.appendChild(e)}}class j{constructor(){this.storage={Today:[{status:!1,title:"brush teeth",description:"brush teeth with tooth brush",date:"2024-09-12",priority:"medium"},{status:!1,title:"eat breakfast",description:"eat breakfast with milk",date:"2024-09-12",priority:"low"},{status:!1,title:"complete homework",description:"ex. 1, 2, 3",date:"2024-09-25",priority:"high"}],Week:[],Gym:[],Study:[],Notes:[{status:!1,title:"go for a walk",description:"go for a walk with my dog",date:"2024-09-25",priority:"medium"}]},this.currentProject="Today",localStorage.getItem("storage")?this.storage=JSON.parse(localStorage.getItem("storage")):localStorage.setItem("storage",JSON.stringify(this.storage)),v(this),p(this.storage[this.currentProject]),f(this),g(this),S(this),q(this),L(),m(this),y(this)}addProject(r){this.storage[r]=[],localStorage.setItem("storage",JSON.stringify(this.storage)),y(this)}addTodo(r,o){this.storage[r].push(o),localStorage.setItem("storage",JSON.stringify(this.storage)),y(this)}getStorage(){return this.storage}refreshStatus(r,o){this.storage[r][o].status=!this.storage[r][o].status,localStorage.setItem("storage",JSON.stringify(this.storage))}deleteTodo(r,o){this.storage[r].splice(o,1),localStorage.setItem("storage",JSON.stringify(this.storage)),y(this)}}new j;
